/*! For license information please see main.62c9ccb7.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-restaurant"]=this["webpackJsonpreact-restaurant"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,r){e.exports={footer:"footer_footer__wSOud",desContainer:"footer_desContainer__PV8Lz",logo:"footer_logo__XUr2n",description:"footer_description__DhP8g",social:"footer_social__29vSg",up:"footer_up__3k_j5",down:"footer_down__1M0Wz",active:"footer_active__2QeWo"}},,function(e,t,r){e.exports={header:"header_header__1opoS",logo:"header_logo__2vu4C",menu:"header_menu__3ezdi",checkout:"header_checkout__32Z3P",active:"header_active__vfqjn"}},,,,,,,,,,function(e,t,r){e.exports={red:"rate_red__3aL5v",white:"rate_white__2WN12"}},function(e,t,r){e.exports={reviewContainer:"review_reviewContainer__2EdBC",review:"review_review__6XLJO"}},function(e,t,r){e.exports={restaurant:"restaurant_restaurant__1MZzE",switcher:"restaurant_switcher__37E33",active:"restaurant_active__3B09i"}},,,,,,,,,,function(e,t,r){e.exports={navContainer:"navigation_navContainer__2U-RJ",navigation:"navigation_navigation__2s3-u",nav:"navigation_nav__21O9i"}},function(e,t,r){e.exports={product:"product_product__3x2wL",description:"product_description__30YlL",order:"product_order__5uwn2"}},function(e,t,r){e.exports={basketItem:"basketItem_basketItem__1KzGl",baksetOrder:"basketItem_baksetOrder__1nbPo"}},,,,function(e,t,r){e.exports={currencySwitcher:"currency-switcher_currencySwitcher__34Mxv",active:"currency-switcher_active__mevCE"}},,,function(e,t,r){e.exports={description:"description_description__2j3sq"}},,function(e,t,r){e.exports={hero:"hero_hero__1Tf5N"}},function(e,t,r){e.exports={loader:"loader_loader__1l0mq",toggle:"loader_toggle__3DAL_"}},function(e,t,r){e.exports={error:"error-page_error__2GhK4",identifier:"error-page_identifier__mpf8f"}},function(e,t,r){e.exports={menu:"menu_menu__1VIWa"}},function(e,t,r){e.exports={reviewForm:"review-form_reviewForm__3L_U7"}},function(e,t,r){e.exports={validation:"validation-pop-up_validation__1VvXX",appearance:"validation-pop-up_appearance__15j8V"}},function(e,t,r){e.exports={reviews:"reviews_reviews__18FQM"}},function(e,t,r){e.exports={restaurants:"restaurants_restaurants__edo12"}},function(e,t,r){e.exports={basket:"basket_basket__3nmpR"}},function(e,t,r){e.exports={card:"card_card__2yoCQ",identifier:"card_identifier__2oi-6"}},function(e,t,r){e.exports={order:"order-status_order__iqf5R"}},function(e,t,r){e.exports={contacts:"contacts_contacts__2-npZ"}},function(e,t,r){e.exports={faq:"faq_faq__2wfsP"}},function(e,t,r){e.exports={about:"about_about__2En2f"}},,,,,,,,,,,,function(e,t,r){},,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(32),a=r.n(c),i=r(6),s=(r(77),r(34)),o=r(35),u=r(40),j=r(38),d=r(50),l=r.n(d),b=r(0);function O(){return Object(b.jsx)("div",{className:l.a.description,children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"An Internet aggregator is a site that combines various thematic platforms in order to increase their sales level and ensure the convenience of users' choice of dishes and drinks. A distinctive feature of the site is a unified design, user-friendly interface. Here companies are not advertised, do not compete with each other in a colorful presentation. They are offered as part of a catalog of establishments that operate in your city."}),Object(b.jsx)("li",{children:"The operating principle of an internet aggregator is quite simple. On the Internet resource, the user is provided with a wide range of cafes and restaurants for the delivery of ready-made food. Among all the establishments, a person chooses an establishment that is interesting to him, forms an order. The user does not pay a percentage or a flat rate for working with the resource. The prices presented here are similar to the restaurant's menu published on the official website. Meanwhile, a restaurant, cafe, pizzeria or other establishment must give 15-20% of the total order value to the aggregator. In the West, this figure does not even reach 10%. Experts suggest that a high percentage in Russia is associated with a relatively young system of Internet aggregators. As soon as the competition is higher, the percentage will decrease."})]})})}var h=r(14),f=r(28),v=r(7),x=r(18),p=r(17),m=r.n(p);function _(){return Object(b.jsxs)("div",{className:m.a.footer,children:[Object(b.jsx)("a",{className:m.a.up,href:"#hero",children:Object(b.jsxs)("li",{children:["Up",Object(b.jsx)("i",{children:Object(b.jsx)(h.a,{icon:x.a})})]})}),Object(b.jsxs)("div",{className:m.a.desContainer,children:[Object(b.jsxs)("div",{className:m.a.description,children:[Object(b.jsxs)("div",{className:m.a.logo,children:[Object(b.jsx)("img",{src:"/restaurant-react/logo100_120.png",alt:""}),Object(b.jsx)("h3",{children:"Consegna del cibo"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/restaurants",activeClassName:m.a.active,children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/about",activeClassName:m.a.active,children:"About"})}),Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/contacts",activeClassName:m.a.active,children:"Contacts"})}),Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/faq",activeClassName:m.a.active,children:"FAQ"})})]})]}),Object(b.jsx)("div",{className:m.a.social,children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("i",{children:Object(b.jsx)(h.a,{icon:f.c})})}),Object(b.jsx)("li",{children:Object(b.jsx)("i",{children:Object(b.jsx)(h.a,{icon:f.a})})}),Object(b.jsx)("li",{children:Object(b.jsx)("i",{children:Object(b.jsx)(h.a,{icon:f.b})})}),Object(b.jsx)("li",{children:Object(b.jsx)("i",{children:Object(b.jsx)(h.a,{icon:f.d})})})]})})]}),Object(b.jsxs)("div",{className:m.a.down,children:["\xa9 2000\u2013",(new Date).getFullYear(),", \u041e\u041e\u041e \xabConsegna del cibo\xbb, official site"]})]})}var g=r(20),w=Object(n.createContext)(),y=[{name:"RUB",rate:1},{name:"USD",rate:1/70},{name:"EUR",rate:1/80}];function C(e){var t=e.children,r=Object(n.useState)("RUB"),c=Object(g.a)(r,2),a=c[0],i=c[1];return Object(b.jsx)(w.Provider,{value:{currentCurrency:a,"setCurrent\u0421urrency":i,recalculatePrice:function(e){return y.filter((function(e){return e.name===a})).map((function(t){return(e*t.rate).toFixed(2)+t.name}))}},children:t})}var R=r(47),k=r.n(R);function N(){var e=Object(n.useContext)(w),t=e.currentCurrency,r=e.setCurrent\u0421urrency;return Object(b.jsx)("div",{className:k.a.currencySwitcher,children:y.map((function(e){return Object(b.jsx)("h4",{className:t===e.name?k.a.active:"",onClick:function(){return r(e.name)},children:e.name},e.name)}))})}var I,S,A,P=r(19),E=r.n(P),U=r(4),F=r(2),L=r(10),T=r(33),q="fetch_restaurants",z="FETCH_CURRENT_REST_PRODUCTS",D="loading",M="loaded",W="error",B="empty",H="loading",J="loaded",Q="error",V=function(e){return fetch(e).then((function(e){return e.json()}))},G=function(){return V("/api/restaurants")},X=function(e){return V("/api/reviews?id=".concat(e))},Y=function(e){return V("/api/products?id=".concat(e))},Z=function(){return V("/api/users")},K=function(e){return function(e,t){return fetch(e,{method:"POST",body:t}).then((function(e){return e.json()}))}("/api/order",e)},$=r(9),ee=Object(L.c)("users/load",(function(){return Z()})),te=Object(L.e)({name:"reviews",initialState:{entities:{},error:null},extraReducers:(I={},Object(U.a)(I,ee.pending.type,(function(e){return Object(F.a)(Object(F.a)({},e),{},{error:null})})),Object(U.a)(I,ee.fulfilled.type,(function(e,t){var r=Object($.b)(e,(function(e){var r=t.payload.reduce((function(e,t){return Object(F.a)(Object(F.a)({},e),{},Object(U.a)({},t.id,t))}),{});Object.assign(e.entities,r)}));return Object(F.a)({},r)})),Object(U.a)(I,ee.rejected.type,(function(e,t){return console.log(t),Object(F.a)(Object(F.a)({},e),{},{error:null})})),Object(U.a)(I,"reviews/add",(function(e,t){var r=t.payload.review,n=t.meta.userId;Object.assign(e.entities,Object(U.a)({},n,{id:n,name:r.name}))})),I)}).reducer,re=r(11),ne=Object(L.b)("reviews/add",(function(e,t){return{type:"ADD_REVIEW",payload:{review:e,restaurantId:t.restaurantId},meta:{generateId:["reviewId","userId"]}}})),ce=Object(L.c)("reviews/load",(function(e,t){var r=t.dispatch;return X(e).catch((function(e){throw r(Object(re.d)("/error")),e}))})),ae=Object(L.d)(),ie=Object(F.a)(Object(F.a)({},ae.getInitialState()),{},{status:B,error:null}),se=Object(L.e)({name:"reviews",initialState:ie,reducers:{},extraReducers:(S={},Object(U.a)(S,ce.pending.type,(function(e,t){return Object(F.a)(Object(F.a)({},e),{},{status:H,error:null})})),Object(U.a)(S,ce.fulfilled.type,(function(e,t){var r=t.payload.reduce((function(e,t){return Object(F.a)(Object(F.a)({},e),{},Object(U.a)({},t.id,t))}),{});e.status=J,ae.addMany(e,r)})),Object(U.a)(S,ce.rejected.type,(function(e,t){var r=t.error;return Object(F.a)(Object(F.a)({},e),{},{status:Q,error:r})})),Object(U.a)(S,ne.type,(function(e,t){var r=t.payload.review,n=t.meta,c=n.reviewId,a=n.userId;ae.addOne(e,{id:c,userId:a,text:r.text,rating:r.rating})})),S)}).reducer,oe=function(e){return e.reviews.entities},ue=function(e,t){var r=oe(e)[t.id],n=function(e,t){var r=t.id;return function(e){return e.users.entities}(e)[r]}(e,{id:r.userId});return{id:r.id,text:r.text,rating:r.rating,user:Object(F.a)({},n)}},je=function(e){return e.products.entities},de=function(e){return e.restaurants.entities},le=function(e){return e.restaurants.status===H},be=function(e){return e.restaurants.status===J},Oe=function(e){return e.reviews.status===H},he=function(e){return e.reviews.status===J},fe=Object(T.a)([de],(function(e){return Object.values(e)})),ve=function(e,t){var r=t.product;return fe(e).filter((function(e){if(e.menu.find((function(e){return e===r.id})))return e}))[0]},xe=function(e,t){var r=t.id;return de(e)[r]},pe=function(e,t){var r=t.id;return de(e)[r].reviews.map((function(t){return oe(e)[t]}))},me=Object(T.a)(xe,oe,(function(e,t){var r=e.reviews.map((function(e){var r;return(null===(r=t[e])||void 0===r?void 0:r.rating)||0}));return Math.round(r.reduce((function(e,t){return e+t}),0)/r.length)})),_e=function(e){return e.products.status===H},ge=function(e){return e.products.status===J},we=function(e,t){return je(e)[t]},ye=Object(L.c)("order/make",(function(e){return K(e)})),Ce={entities:{},status:B,serverResponse:{}},Re=Object(L.e)({name:"order",initialState:Ce,reducers:{increment:function(e,t){var r=t.payload;return Object(F.a)(Object(F.a)({},e),{},{entities:Object(F.a)(Object(F.a)({},e.entities),{},Object(U.a)({},r,(e.entities[r]||0)+1))})},decrement:function(e,t){var r=t.payload;return Object(F.a)(Object(F.a)({},e),{},{entities:Object(F.a)(Object(F.a)({},e.entities),{},Object(U.a)({},r,e.entities[r]>0?e.entities[r]-1:0))})},remove:function(e,t){var r=t.payload;return Object(F.a)(Object(F.a)({},e),{},{entities:Object(F.a)(Object(F.a)({},e.entities),{},Object(U.a)({},r,0))})}},extraReducers:(A={},Object(U.a)(A,ye.pending.type,(function(e){return Object(F.a)(Object(F.a)({},e),{},{status:H,serverResponse:Object(F.a)(Object(F.a)({},e.serverResponse),{},{error:null})})})),Object(U.a)(A,ye.fulfilled.type,(function(e,t){var r=t.payload;return Object(F.a)(Object(F.a)({},e),{},{entities:{},status:J,serverResponse:r})})),Object(U.a)(A,ye.rejected.type,(function(e,t){return Object(F.a)(Object(F.a)({},e),{},{status:Q,serverResponse:Object(F.a)(Object(F.a)({},e.serverResponse),{},{error:null})})})),A)}),ke=Re.reducer,Ne=Re.actions,Ie=Ne.increment,Se=Ne.decrement,Ae=Ne.remove,Pe=Ne.clearOrder,Ee=ke,Ue=function(e){return e.order},Fe=function(e){return Ue(e).entities},Le=function(e){return Ue(e).status},Te=Object(T.a)([je,Fe],(function(e,t){var r=Object.keys(t);return Object.keys(e).map((function(t){return e[t]})).filter((function(e){return r.includes(e.id)})).map((function(e){return Object(F.a)(Object(F.a)({},e),{},{amount:t[e.id]})}))})),qe=Object(T.a)([Te],(function(e){return e.reduce((function(e,t){return e+t.amount*t.price}),0)})),ze=function(e,t){return Fe(e)[t.id]};var De=Object(i.c)((function(e,t){return{totalOrderCost:qe(e)}}))((function(e){var t=e.totalOrderCost,r=Object(n.useContext)(w).recalculatePrice;return Object(b.jsxs)("div",{className:E.a.header,children:[Object(b.jsxs)(v.a,{to:"/restaurants",className:E.a.logo,children:[Object(b.jsx)("img",{src:"/restaurant-react/logo100_120.png",alt:"coming soon..."}),Object(b.jsx)("p",{children:"Consegna del cibo"})]}),Object(b.jsx)(N,{}),Object(b.jsx)("div",{className:E.a.menu,children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/restaurants",activeClassName:E.a.active,children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/about",activeClassName:E.a.active,children:"About"})}),Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/contacts",activeClassName:E.a.active,children:"Contacts"})}),Object(b.jsx)("li",{children:Object(b.jsx)(v.b,{to:"/faq",activeClassName:E.a.active,children:"FAQ"})}),Object(b.jsx)("li",{children:Object(b.jsxs)(v.b,{to:"/checkout",className:E.a.checkout,activeClassName:E.a.active,children:[Object(b.jsx)(h.a,{icon:x.b}),r(t)]})})]})})]})})),Me=r(52),We=r.n(Me);function Be(){return Object(b.jsxs)("div",{className:We.a.hero,id:"hero",children:[Object(b.jsx)("h1",{children:"Consegna del cibo"}),Object(b.jsx)("h2",{children:"Best Restaurant Agrigation"})]})}var He=r(41),Je=r.n(He);var Qe=Object(i.c)((function(e){return{restaurants:fe(e)}}))((function(e){var t=e.restaurants,r=e.onRestaurantClick;return Object(b.jsxs)("div",{className:Je.a.navContainer,children:[Object(b.jsx)("h1",{children:"Our Restaurants:"}),Object(b.jsx)("div",{className:Je.a.navigation,children:t.map((function(e){return Object(b.jsx)(v.a,{className:Je.a.nav,style:{backgroundImage:"url(".concat(e.image,")")},onClick:function(){return r(e.id)},to:"/restaurants/".concat(e.id),children:Object(b.jsx)("h2",{children:e.name})},e.id)}))})]})})),Ve=r(53),Ge=r.n(Ve);var Xe=function(){return Object(b.jsx)("div",{className:Ge.a.loader})},Ye=Xe,Ze=r(54),Ke=r.n(Ze);function $e(){return Object(b.jsx)("div",{className:Ke.a.error,children:Object(b.jsx)("h1",{children:"Page NOT found!"})})}var et=r(8),tt=r(23),rt=r.n(tt),nt=r(37),ct=Object(L.e)({name:"current_restaurant",initialState:{currentRestaurantId:null},reducers:{setCurrentRestaurant:function(e,t){var r=t.payload;e.currentRestaurantId=r}}}),at=ct.reducer,it=ct.actions.setCurrentRestaurant,st=at,ot=function(e){return function(e){return e.currentRestaurant}(e).currentRestaurantId},ut=r(42),jt=r.n(ut);var dt=Object(i.c)((function(e,t){return{loading:_e(e),loaded:ge(e),amount:ze(e,t),product:we(e,t.id)}}),(function(e,t){return{increment:function(){return e(Ie(t.id))},decrement:function(){return e(Se(t.id))}}}))((function(e){var t=e.product,r=e.amount,c=e.increment,a=e.decrement,i=e.loading,s=e.loaded,o=Object(n.useContext)(w).recalculatePrice;return Object(b.jsx)("div",{className:jt.a.product,"data-test":"product",children:i||!s?Object(b.jsx)(Ye,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:jt.a.description,children:[Object(b.jsx)("h2",{children:t.name}),Object(b.jsx)("p",{children:o(t.price)}),Object(b.jsx)("p",{children:t.ingredients.join(", ")})]}),Object(b.jsxs)("div",{className:jt.a.order,children:[Object(b.jsx)("button",{"data-test":"product-decrement",onClick:a,children:"-"}),Object(b.jsx)("p",{"data-test":"product-amount",children:r||0}),Object(b.jsx)("button",{onClick:c,children:"+"})]})]})})})),lt=r(55),bt=r.n(lt),Ot=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props.menu;return Object(b.jsx)("div",{className:bt.a.menu,children:e.map((function(e){return Object(b.jsx)(dt,{id:e},e)}))})}}]),r}(n.Component),ht=r(39),ft=r(29),vt=r.n(ft);var xt=function(e){var t=e.rating,r=e.handleRateChange,c=Object(n.useState)(void 0),a=Object(g.a)(c,2),i=a[0],s=a[1];return Object(b.jsx)("div",{children:Object(ht.a)(Array(5)).map((function(e,n){return Object(b.jsx)("div",{onClick:r?function(){r(n+1),s(n+1)}:void 0,className:i?n<i?vt.a.red:vt.a.white:n<t?vt.a.red:vt.a.white,children:Object(b.jsx)("i",{children:Object(b.jsx)(h.a,{icon:x.c})})},n)}))})},pt=r(30),mt=r.n(pt);var _t=Object(i.c)((function(e,t){return{reviewWithUser:ue(e,t)}}))((function(e){e.id;var t=e.reviewWithUser;if(!t)return Object(b.jsx)(Xe,{});var r=t.text,n=t.rating,c=t.user;return Object(b.jsx)("div",{className:mt.a.reviewContainer,"data-test":"reviews",children:Object(b.jsxs)("div",{className:mt.a.review,children:[Object(b.jsx)("div",{className:mt.a.author,children:Object(b.jsxs)("h4",{children:["Author: ",c.name]})}),Object(b.jsxs)("div",{className:mt.a.info,children:[Object(b.jsx)("p",{children:r}),Object(b.jsx)(xt,{rating:n})]})]})})})),gt=r(56),wt=r.n(gt),yt=r(21),Ct=r.n(yt),Rt=r(57),kt=r.n(Rt);function Nt(e){var t=e.message;return Object(b.jsx)("div",{className:Ct()(kt.a.validation),children:Object(b.jsx)("h1",{children:t})})}var It={name:"",text:"",rating:""};var St=Object(i.c)(null,(function(e,t){return{handleSubmit:function(r){return e(ne(r,t))}}}))((function(e){var t=e.handleSubmit,r=Object(n.useState)(It),c=Object(g.a)(r,2),a=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(g.a)(s,2),u=o[0],j=o[1],d=function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,n=t.name;i(Object(F.a)(Object(F.a)({},a),{},Object(U.a)({},n,r)))},l=function(){return""!==a.name&&""!==a.text||(j(!1),setTimeout((function(){j(!0)}),5e3),!1)};return Object(b.jsxs)(b.Fragment,{children:[u?"":Object(b.jsx)(Nt,{message:"Invalid Form Data"}),Object(b.jsx)("div",{div:!0,className:wt.a.reviewForm,children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(a)&&t(a)},children:[Object(b.jsx)("label",{htmlFor:"user",children:"User"}),Object(b.jsx)("input",{type:"text",name:"name",placeholder:"insert username",onChange:d}),Object(b.jsx)("label",{htmlFor:"review",children:"Review"}),Object(b.jsx)("textarea",{name:"text",placeholder:"review",onChange:d}),Object(b.jsx)("div",{children:Object(b.jsx)(xt,{handleRateChange:function(e){i(Object(F.a)(Object(F.a)({},a),{},{rating:e}))}})}),Object(b.jsx)("button",{children:"Add review"})]})})]})})),At=r(58),Pt=r.n(At);var Et=Object(i.c)((function(e,t){return{reviews:pe(e,{id:t.restaurantId}),reviewsIsLoading:Oe(e),reviewsIsLoaded:he(e)}}),{loadReviews:ce,loadUsers:ee})((function(e){var t=e.reviews,r=e.loadReviews,c=e.loadUsers,a=e.restaurantId,i=e.reviewsIsLoading,s=e.reviewsIsLoaded;return Object(n.useEffect)((function(e){r(e),c()}),[a]),i||!s?Object(b.jsx)(Xe,{}):Object(b.jsxs)("div",{className:Pt.a.reviews,"data-test":"reviews",children:[t.map((function(e){return Object(b.jsx)(_t,{id:e.id},e.id)})),Object(b.jsx)(St,{restaurantId:a})]})})),Ut=r(31),Ft=r.n(Ut);var Lt=Object(i.c)((function(e,t){return{currentRestaurantId:ot(e),restaurant:xe(e,t),averageRating:me(e,t)}}),{loadCurrentRestaurantProducts:function(e){return function(){var t=Object(nt.a)(rt.a.mark((function t(r){var n;return rt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:z+D}),t.prev=1,t.next=4,Y(e);case 4:n=t.sent,r({type:z+M,data:n,curRestId:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:z+W,curRestId:e});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.currentRestaurantId,r=e.loadCurrentRestaurantProducts,c=e.restaurant,a=e.averageRating;return Object(n.useEffect)((function(){r(t)}),[t]),Object(b.jsxs)("div",{className:Ft.a.restaurant,children:[Object(b.jsx)("h3",{children:c.name}),!!a&&Object(b.jsx)(xt,{rating:a}),Object(b.jsxs)("div",{className:Ft.a.switcher,children:[Object(b.jsx)(v.b,{to:"/restaurants/".concat(c.id,"/menu"),activeClassName:Ft.a.active,children:"Menu"}),Object(b.jsx)(v.b,{to:"/restaurants/".concat(c.id,"/reviews"),activeClassName:Ft.a.active,children:"Reviews"})]}),Object(b.jsxs)(et.d,{children:[Object(b.jsx)(et.b,{path:"/restaurants/:restId/menu",children:Object(b.jsx)(Ot,{menu:c.menu})}),Object(b.jsx)(et.b,{path:"/restaurants/:restId/reviews",children:Object(b.jsx)(Et,{restaurantId:c.id})}),Object(b.jsx)(et.b,{path:"/restaurants/:restId",children:Object(b.jsx)(Ot,{menu:c.menu})})]})]})})),Tt=r(59),qt=r.n(Tt);var zt=Object(i.c)((function(e){return{currentRestaurantId:ot(e),allRestaurants:fe(e),loading:le(e),loaded:be(e)}}),{loadRestaurants:function(){return{type:q,callApi:function(){return G()}}},setCurrentRestaurant:it})((function(e){var t,r=e.allRestaurants,c=e.currentRestaurantId,a=e.loadRestaurants,i=e.setCurrentRestaurant,s=e.loading,o=e.loaded;return Object(n.useEffect)((function(){s||o||a()}),[s,o]),o?Object(b.jsxs)("div",{className:qt.a.restaurants,children:[Object(b.jsx)(Qe,{onRestaurantClick:i}),Object(b.jsxs)(et.d,{children:[Object(b.jsx)(et.b,{path:"/restaurants/:restId",children:function(e){var t=e.match.params.restId;return r.find((function(e){return e.id===t}))?(c=t,Object(b.jsx)(Lt,{id:c})):Object(b.jsx)($e,{})}}),Object(b.jsx)(et.a,{to:"/restaurants/".concat(null===(t=r[0])||void 0===t?void 0:t.id)}),Object(b.jsx)(et.b,{component:function(){return Object(b.jsx)("h1",{children:"Select Restaurant"})}})]})]}):Object(b.jsx)(Ye,{})})),Dt=r(60),Mt=r.n(Dt),Wt=r(43),Bt=r.n(Wt);var Ht=Object(i.c)((function(e,t){return{restaurant:ve(e,t)}}),(function(e,t){return{increment:function(){return e(Ie(t.product.id))},decrement:function(){return e(Se(t.product.id))},remove:function(){return e(Ae(t.product.id))}}}))((function(e){var t=e.product,r=e.restaurant,n=e.increment,c=e.decrement,a=e.remove,i=t.name,s=t.amount;return 0===s?null:Object(b.jsxs)("div",{className:Bt.a.basketItem,children:[Object(b.jsx)(v.a,{to:"/restaurants/".concat(r.id),children:Object(b.jsx)("div",{className:Bt.a.info,children:Object(b.jsx)("h3",{children:i})})}),Object(b.jsxs)("div",{className:Bt.a.baksetOrder,children:[Object(b.jsx)("button",{onClick:n,children:"+"}),Object(b.jsx)("p",{children:s}),Object(b.jsx)("button",{onClick:c,children:"-"}),Object(b.jsx)("button",{onClick:a,children:"x"})]})]})}));var Jt=Object(i.c)((function(e){return{orderList:Fe(e),products:Te(e),totalOrderCost:qe(e),status:Le(e)}}),{makeOrder:ye,clearOrder:Pe})((function(e){var t=e.products,r=e.totalOrderCost,c=e.makeOrder,a=e.orderList,i=e.status,s=(e.clearOrder,Object(n.useState)(!1)),o=Object(g.a)(s,2),u=o[0],j=o[1],d=Object(n.useContext)(w).recalculatePrice;return Object(n.useEffect)((function(){switch(i){case H:j(!0);break;case J:j(!1)}}),[i]),J?Object(b.jsxs)("div",{className:Mt.a.basket,children:[Object(b.jsxs)("i",{children:[Object(b.jsx)(h.a,{icon:x.b}),"Your Order: "]}),t.map((function(e){return Object(b.jsx)(Ht,{product:e},e.id)})),Object(b.jsxs)("h3",{children:["Total Cost: ",d(r)]}),Object(b.jsx)(v.a,{to:"/order-status",children:Object(b.jsx)("button",{disabled:u?"disabled":"",onClick:function(){return c(a)},children:"Checkout"})})]}):Object(b.jsx)(Ye,{})})),Qt=r(61),Vt=r.n(Qt);var Gt=Object(i.c)((function(e){return{totalOrderCost:qe(e)}}))((function(e){var t=e.totalOrderCost,r=Object(n.useContext)(w).recalculatePrice;return Object(b.jsx)(v.a,{to:"/checkout",children:Object(b.jsx)("div",{className:Vt.a.card,children:Object(b.jsxs)("i",{children:[Object(b.jsx)(h.a,{icon:x.b}),r(t)]})})})})),Xt=r(62),Yt=r.n(Xt);function Zt(e){return Object(b.jsxs)("div",{className:Yt.a.order,children:["Your order has been successfully completed!",Object(b.jsx)(v.a,{to:"/restaurants",children:Object(b.jsx)("button",{children:"Go to restaurants"})})]})}var Kt=r(63),$t=r.n(Kt);function er(){return Object(b.jsxs)("div",{className:Ct()($t.a.contacts),children:[Object(b.jsx)("a",{href:"https://github.com/y-dubovitsky",target:"_blank",children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0430 GitHub"}),Object(b.jsx)("h3",{children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"}),"y.dubovitsky@gmail.com"]})}var tr=r(64),rr=r.n(tr);function nr(){return Object(b.jsxs)("div",{className:Ct()(rr.a.faq),children:[Object(b.jsx)("h2",{children:"\u041a\u0430\u043a\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430?"}),Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"React \u0438 \u0435\u0433\u043e \u044d\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430."}),Object(b.jsx)("li",{children:"React Hooks, \u0438\u0445 \u043e\u0442\u043b\u0438\u0447\u0438\u044f \u043e\u0442 \u0441\u0442\u0435\u0439\u0442\u0430 \u0438 lifecycle \u043c\u0435\u0442\u043e\u0434\u043e\u0432."}),Object(b.jsx)("li",{children:"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Jest \u0438 Enzyme."}),Object(b.jsx)("li",{children:"Redux + Immutable.js."}),Object(b.jsx)("li",{children:"React-redux \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u0441 \u043b\u043e\u0433\u0438\u043a\u043e\u0439."}),Object(b.jsx)("li",{children:"React \u0434\u043b\u044f SPA: react-router \u0438 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 API \u0420\u0435\u0430\u043a\u0442\u0430."}),Object(b.jsx)("li",{children:"Redux dev tools."}),Object(b.jsx)("li",{children:"Side-effects \u0432 Redux: \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Middlewares."}),Object(b.jsx)("li",{children:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430."}),Object(b.jsx)("li",{children:"\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0435 \u044d\u043a\u0448\u0435\u043d\u044b \u0441 redux-thunk."}),Object(b.jsx)("li",{children:"React Context."}),Object(b.jsx)("li",{children:"React-router."}),Object(b.jsx)("li",{children:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d react-router \u0438 Redux."}),Object(b.jsx)("li",{children:Object(b.jsx)("h3",{children:"\u0418 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 =)"})})]})]})}var cr=r(65),ar=r.n(cr);function ir(){return Object(b.jsxs)("div",{className:Ct()(ar.a.about),children:[Object(b.jsx)("h2",{children:"\u041c\u043e\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043a\u0443\u0440\u0441\u0430 \u043d\u0430 https://learn.javascript.ru/"}),Object(b.jsx)("a",{href:"https://learn.javascript.ru/courses/react",target:"_blank",rel:"noopener noreferrer",children:"https://learn.javascript.ru/courses/react"}),Object(b.jsx)("img",{src:"/restaurant-react/certificate.jpg",alt:""}),Object(b.jsx)("h2",{children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b, \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u0435\u0442\u0435\u043d\u0437\u0438\u0438 \u043f\u043e \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0443 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043d\u0430 \u043f\u043e\u0447\u0442\u0443"}),Object(b.jsx)("h4",{children:"y.dubovitsky@gmail.com"})]})}var sr=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(De,{}),Object(b.jsx)(Be,{}),Object(b.jsx)(O,{}),Object(b.jsxs)(et.d,{children:[Object(b.jsx)(et.a,{exact:!0,from:"/",to:"/restaurants"}),Object(b.jsx)(et.b,{path:"/checkout",component:Jt}),Object(b.jsx)(et.b,{path:"/contacts",component:er}),Object(b.jsx)(et.b,{path:"/about",component:ir}),Object(b.jsx)(et.b,{path:"/faq",component:nr}),Object(b.jsx)(et.b,{path:"/restaurants",component:zt}),Object(b.jsx)(et.b,{path:"/order-status",component:Zt}),Object(b.jsx)(et.b,{path:"/error",component:$e})]}),Object(b.jsx)(Gt,{}),Object(b.jsx)(_,{})]})}}]),r}(n.Component),or={status:B,entities:{},error:null},ur={status:B,entities:{},error:null},jr=r(22),dr=r(12),lr=Object(dr.a)(),br={router:Object(jr.b)(lr),order:Ee,restaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload,c=t.meta,a=t.data,i=t.error;switch(r){case q+D:return Object(F.a)(Object(F.a)({},e),{},{error:null,status:H});case q+M:var s=a.reduce((function(e,t){return Object(F.a)(Object(F.a)({},e),{},Object(U.a)({},t.id,t))}),{});return Object(F.a)(Object(F.a)({},e),{},{status:J,entities:s});case q+W:return Object(F.a)(Object(F.a)({},e),{},{status:Q,error:i});case ne.type:var o=c.reviewId,u=n.restaurantId;return Object(F.a)(Object(F.a)({},e),{},{entities:Object(F.a)(Object(F.a)({},e.entities),{},Object(U.a)({},u,Object(F.a)(Object(F.a)({},e.entities[u]),{},{reviews:[].concat(Object(ht.a)(e.entities[u].reviews),[o])})))});default:return e}},currentRestaurant:st,products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.data,c=t.error;switch(r){case z+D:return console.log(e),Object(F.a)(Object(F.a)({},e),{},{status:H,error:null});case z+M:var a=n.reduce((function(e,t){return Object(F.a)(Object(F.a)({},e),{},Object(U.a)({},t.id,Object(F.a)({},t)))}),{});return Object($.b)(e,(function(e){Object.assign(e.entities,a),e.status=J}));case z+W:return Object(F.a)(Object(F.a)({},e),{},{error:c,status:Q});default:return e}},reviews:se,users:te},Or=r(67),hr=r(89),fr=["meta"],vr=function(e){return function(e){return function(t){var r;if(!(null===(r=t.meta)||void 0===r?void 0:r.generateId))return e(t);var n=t.meta,c=Object(Or.a)(t,fr),a=n.generateId.reduce((function(e,t){return Object(F.a)(Object(F.a)({},e),{},Object(U.a)({},t,Object(hr.a)()))}),{});e(Object(F.a)(Object(F.a)({},c),{},{meta:Object(F.a)({},a)}))}}},xr=function(e){return function(e){return function(){var t=Object(nt.a)(rt.a.mark((function t(r){var n,c,a;return rt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.callApi){t.next=2;break}return t.abrupt("return",e(r));case 2:return n=r.callApi,c=r.type,e(Object(F.a)(Object(F.a)({},r),{},{type:c+D})),t.prev=4,t.next=7,n();case 7:a=t.sent,e(Object(F.a)(Object(F.a)({},r),{},{data:a,type:c+M})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e(Object(F.a)(Object(F.a)({},r),{},{type:c+W,error:t.t0}));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()}},pr=r(48),mr=Object(L.a)({reducer:br,middleware:function(e){return e({serializableCheck:{ignoredActionPaths:["callApi"]}}).concat([Object(pr.a)(lr),xr,vr])}});a.a.render(Object(b.jsx)(i.a,{store:mr,children:Object(b.jsx)(jr.a,{history:lr,children:Object(b.jsx)(C,{children:Object(b.jsx)(sr,{restaurants:!0})})})}),document.getElementById("root"))}],[[87,1,2]]]);
//# sourceMappingURL=main.62c9ccb7.chunk.js.map